#!/bin/sh

CONFIG="shield"
COMPILER="intel"

#
## parse arguments
for arg in "$@"
do
    case $arg in
        shield|solo)
        CONFIG="${arg#*=}"
        shift # Remove CONFIG from processing
        ;;
        intel|gnu)
        COMPILER="${arg#*=}"
        shift # Remove COMPILER from processing
        ;;
        *)
        exit 99
        ;;
    esac
done

echo $PATH

pushd ${SHiELD_SRC}

if [ ${CONFIG} = 'solo' ] ; then
  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${COMPILER}/pathnames_fv3 \
      atmos_cubed_sphere/driver/solo/ \
      atmos_cubed_sphere/tools/ \
      atmos_cubed_sphere/model/ \
      fv3_gfsphysics/atmos_drivers/solo/

elif [ ${CONFIG} = 'shield' ] ; then
  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${COMPILER}/pathnames_gfs \
      atmos_cubed_sphere/model/gfdl_cld_mp.F90 \
      atmos_cubed_sphere/model/cld_eff_rad.F90 \
      fv3_gfsphysics/gsmphys/  \
      fv3_gfsphysics/GFS_layer/ \
      fv3_gfsphysics/IPD_layer/ \
      fv3_gfsphysics/COSP

  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${COMPILER}/pathnames_fv3 \
      fv3_gfsphysics/FV3GFS/ \
      fv3_gfsphysics/atmos_drivers/coupled/atmos_model.F90 \
      fv3_gfsphysics/simple_coupler/coupler_main.F90 \
      atmos_cubed_sphere/driver/SHiELD/atmosphere.F90 \
      atmos_cubed_sphere/tools/ \
      atmos_cubed_sphere/model/ \
      atmos_cubed_sphere/GFDL_tools/fv_diag_column.F90
fi

popd

exit 0
